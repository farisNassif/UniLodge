<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>AngularBootstrap</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">

</head>
<body>
<div class="container">
    <h1>New Listing</h1>
    <form (ngSubmit)="onSubmit()" #listingForm="ngForm" class="needs-validation" novalidate>
     
      <div class="form-group">
        <label for="Title">*Title</label>
        <input type="text" class="form-control" id="Title" [(ngModel)]="model.Title" name="Title" #Title="ngModel" placeholder="Eg - 2 Bedroom Flat" required>
            <div [hidden]="Title.valid || Title.pristine"
                class="alert alert-danger">
                Title is required
            </div>
      </div>

      <div class="form-group">
        <label for="Location">*Location</label>
        <select class="form-control" id="Location" (change)="setLocation($event.target.value)" required [(ngModel)]="model.Location" name="Location" >
          <option *ngFor="let location of Location" [value]="location">{{location}}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="Price">*Price (40.2 => â‚¬40.20)</label>
        <input type="text" class="form-control" id="Price" [(ngModel)]="model.Price" name="Price" #Price="ngModel" required>
            <div [hidden]="Price.valid || Price.pristine"
                class="alert alert-danger">
                Price is required
            </div>
      </div>

      <div class="form-group">
        <label for="ContactNumber">*Contact Number</label>
        <input type="text" class="form-control" id="ContactNumber" [(ngModel)]="model.ContactNumber" placeholder="087 123 4567" name="ContactNumber" #ContactNumber="ngModel" required>
            <div [hidden]="ContactNumber.valid || ContactNumber.pristine"
                class="alert alert-danger">
                Contact Number is required
            </div>
      </div>

      <div class="form-group">
          <label for="Image">Upload Images</label>
          <br>
          <input type='file' accept="image/*" (change)="changeListener($event)"> <br>
          <button title="Submit Image" (click)="displayImage()">Submit Image</button>
      </div>

    </form>
    <button type="submit" class="btn btn-success" (click)="newListing(model.Title, model.Price, model.ContactNumber)" [disabled]="!listingForm.form.valid">Submit</button>
    <br>
    <br>
</div>
</body>
</html>